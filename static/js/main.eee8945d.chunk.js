(this["webpackJsonpheidenheim-weather-app"]=this["webpackJsonpheidenheim-weather-app"]||[]).push([[0],{106:function(e,t,a){e.exports=a(196)},196:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),i=a.n(c),l=(a(111),a(16)),s=a.n(l),o=a(24),m=a(35),u=a(37),d=a(36),h=a(38),p=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar is-success",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"})))},f=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("p",null,"Developed by: ",r.a.createElement("a",{href:"https://lucassenarj.github.io/site/"},"Lucas Sena")," using ",r.a.createElement("a",{href:"https://bulma.io/"},"Bulma"))))},v=a(25),E=a(26);function g(){var e=Object(v.a)(["\n  flex: 1;\n  height: 100%;\n  margin: 5% 0;\n"]);return g=function(){return e},e}function b(){var e=Object(v.a)(["\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n  align-content: space-around;\n"]);return b=function(){return e},e}var w=E.a.div(b()),N=E.a.div(g()),k=function(e){return r.a.createElement(w,null,r.a.createElement(p,null),r.a.createElement(N,null,e.children),r.a.createElement(f,null))},y=a(98),T=a.n(y),x=function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("".concat("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/ace1850ec41cb58a4bc938b4c440d58d","/48.7151643,10.1312459"),{headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"}}).then((function(e){return{status:!0,response:e.data}})).catch((function(e){return{status:!1,error:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=a(50);function O(){var e=Object(v.a)(['\n  font-size: 3.75rem !important;\n  font-weight: 300;\n  line-height: 3.75rem;\n  letter-spacing: -0.0083333333em !important;\n  font-family: "Roboto", sans-serif !important;\n']);return O=function(){return e},e}var C=E.a.p(O()),S=(a(134),a(105)),D=a(102),_=a.n(D),z=a(52),A=a.n(z),M=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,weather:{currently:{time:"",temperature:0,icon:"WIND"},daily:{data:[]}},marks:{},marksDetails:[],markSelected:{}},a.componentDidMount=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.weather){e.next=4;break}return e.next=3,a.setState({loading:!1,weather:a.props.weather});case 3:a.handleMarks();case 4:case"end":return e.stop()}}),e)}))),a.handleMarks=function(){var e=[],t=[],n=a.state.weather.daily.data;n.forEach((function(n,r){if(r<=5){var c=20*r,i=a._formatDate(n.time,"dddd").substring(0,3).toUpperCase();e[c]=i,t.push({id:c,minTemp:a._fahrenheitToCelcius(n.temperatureMin),minTempTime:a._formatDate(n.temperatureMinTime,"LT"),maxTemp:a._fahrenheitToCelcius(n.temperatureMax),maxTempTime:a._formatDate(n.temperatureMaxTime,"LT"),sunrise:a._formatDate(n.sunriseTime,"LT"),sunset:a._formatDate(n.sunsetTime,"LT")})}})),n.length>=1&&a.setState({marks:Object.assign({},e),marksDetails:t,markSelected:t[0]})},a._fahrenheitToCelcius=function(e){return"".concat((5*(e-32)/9).toFixed(0),"\xb0C")},a._formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"llll";return _()(1e3*e).tz("Europe/Berlin").format(t)},a._milesToKilometer=function(e){return"".concat((e/.62137).toFixed(2)," km/h")},a.handleSlideChange=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.marksDetails;case 2:n=e.sent,r=n.find((function(e){return e.id===t})),a.setState({markSelected:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(j.a)(t,[{key:"renderDetails",value:function(){var e=this.state.markSelected;return r.a.createElement("div",{className:"columns is-mobile has-text-centered"},r.a.createElement("div",{className:"column"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-temperature-low fa-lg"})," ",e.minTemp),r.a.createElement("h6",null,e.minTempTime)),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-temperature-high fa-lg"})," ",e.maxTemp),r.a.createElement("h6",null,e.maxTempTime)),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-sun fa-lg"})),r.a.createElement("h6",null,e.sunrise)),r.a.createElement("div",{className:"column"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-moon fa-lg"})),r.a.createElement("h6",null,e.sunset)))}},{key:"render",value:function(){var e=this.state.weather.currently,t=this._formatDate(e.time),a=this._fahrenheitToCelcius(e.temperature),n=this._milesToKilometer(e.windSpeed),c=(100*e.precipProbability).toFixed(0),i={icon:"".concat(e.icon).toUpperCase(),color:"goldenrod",size:64,animate:!0};return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title"},"Heidenheim, Germany"),r.a.createElement("p",{className:"subtitle"},r.a.createElement("time",{dateTime:t},t)),r.a.createElement("div",{className:"columns is-mobile"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(C,null,a)),r.a.createElement("div",{className:"column"},r.a.createElement(A.a,{icon:i.icon,color:i.color,size:i.size,animate:i.animate}))),r.a.createElement("div",{className:"columns is-mobile"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement(A.a,{icon:"WIND",color:"grey",size:32,animate:i.animate})),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"subtitle is-4"},n)))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement(A.a,{icon:"RAIN",color:"grey",size:32,animate:i.animate})),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"subtitle is-4"},"".concat(c,"%")))))),r.a.createElement("div",{className:"columns is-mobile"},r.a.createElement("div",{className:"column"},r.a.createElement(S.a,{min:0,marks:this.state.marks,step:20,onChange:this.handleSlideChange,included:!1,defaultValue:0}))),this.state.markSelected&&this.renderDetails()))}}]),t}(n.Component),W=a(71),I=a(104),F=a.n(I);function J(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 50vh;\n"]);return J=function(){return e},e}var L=E.a.div(J()),B=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).API_TOKEN="pk.eyJ1IjoibHVjYXNzZW5hcmoiLCJhIjoiY2szYWZzdWg4MGJ0eTNicWgxa2pibzF5cSJ9.9CYaS2GvgVKB_uC1wQhFOw",a.state={viewport:{latitude:48.6742746129279,longitude:10.173079459233461,zoom:10.424041270260442,bearing:0,pitch:0}},a}return Object(h.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.containerWidth,c=t.containerHeight,i=this.state.viewport;return console.log(a),console.log(c),r.a.createElement(n.Fragment,null,r.a.createElement(W.b,Object.assign({width:a,height:c},this.state.viewport,{mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:this.API_TOKEN,onViewportChange:function(t){return e.setState({viewport:t})}}),r.a.createElement(W.a,{longitude:i.longitude,latitude:i.latitude})),this.props.children)}}]),t}(n.Component),K=F()()(B),V=function(){return r.a.createElement(L,null,r.a.createElement(K,null))},Y=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={loading:!1,info:null},a.componentDidMount=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,x();case 3:if(!(t=e.sent).status){e.next=7;break}return a.setState({info:t.response,loading:!1}),e.abrupt("return");case 7:a.setState({loading:!1});case 8:case"end":return e.stop()}}),e)}))),a.render=function(){return r.a.createElement(k,null,r.a.createElement("section",null,r.a.createElement("div",{className:"container"},!a.state.loading&&r.a.createElement("div",{className:"columns is-desktop is-vcentered"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement(M,{weather:a.state.info})),r.a.createElement("div",{className:"column is-two-thirds"},r.a.createElement(V,null))))))},a}return Object(h.a)(t,e),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(195);i.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[106,1,2]]]);
//# sourceMappingURL=main.eee8945d.chunk.js.map